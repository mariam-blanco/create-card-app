const card=document.querySelector(".js-card"),form=document.querySelector(".js-form"),btnReset=document.querySelector(".js-reset"),palettes=document.querySelectorAll(".js-palettes > li");let selectedPalette;const inputName=document.querySelector(".js-name"),inputJob=document.querySelector(".js-job"),inputAddress=document.querySelector(".js-address"),inputCity=document.querySelector(".js-city"),inputPhone=document.querySelector(".js-phone"),inputEmail=document.querySelector(".js-email"),cardFrontName=document.querySelector(".card-front .js-card-name"),cardBackName=document.querySelector(".card-back .js-card-name"),cardFrontJob=document.querySelector(".card-front .js-card-job"),cardBackJob=document.querySelector(".card-back .js-card-job"),cardAddress=document.querySelector(".js-card-address"),cardCity=document.querySelector(".js-card-city"),cardPhone=document.querySelector(".js-card-phone"),cardEmail=document.querySelector(".js-card-email"),defaultCardData={palette:"palette-a",name:"Nombre Apellidos",job:"Ocupación",address:"Dirección",city:"Ciudad",phone:"000 000 000",email:"hola@email.com"},handleClick=e=>{selectedPalette=e.currentTarget.className,choosePalette(selectedPalette)},choosePalette=e=>{card.className=`card js-card ${e}`,palettes.forEach((e=>e.classList.remove("selected")));document.querySelector(`.${e}`).classList.add("selected")},fillCard=e=>{const a=inputName.value,t=inputJob.value,r=inputAddress.value,n=inputCity.value,d=inputPhone.value,c=inputEmail.value;e.target===inputName&&(cardFrontName.innerHTML=""!==a?a:defaultCardData.name,cardBackName.innerHTML=""!==a?a:defaultCardData.name),e.target===inputJob&&(cardFrontJob.innerHTML=""!==t?t:defaultCardData.job,cardBackJob.innerHTML=""!==t?t:defaultCardData.job),e.target===inputAddress&&(cardAddress.innerHTML=""!==r?r:defaultCardData.job),e.target===inputCity&&(cardCity.innerHTML=""!==n?n:defaultCardData.address),e.target===inputPhone&&(cardPhone.innerHTML=""!==d?d:defaultCardData.phone),e.target===inputEmail&&(cardEmail.innerHTML=""!==c?c:defaultCardData.email),storeData()},getDefaultData=()=>{const{palette:e,name:a,job:t,address:r,city:n,phone:d,email:c}=defaultCardData;cardFrontName.innerHTML=a,cardBackName.innerHTML=a,cardFrontJob.innerHTML=t,cardBackJob.innerHTML=t,cardAddress.innerHTML=r,cardCity.innerHTML=n,cardPhone.innerHTML=d,cardEmail.innerHTML=c,localStorage.removeItem("userData"),choosePalette(e)},storeData=()=>{const e={palette:selectedPalette,name:inputName.value,job:inputJob.value,address:inputAddress.value,city:inputCity.value,phone:inputPhone.value,email:inputEmail.value};localStorage.setItem("userData",JSON.stringify(e))},getStoredData=()=>{const e=localStorage.getItem("userData"),a=JSON.parse(e);if(a){const{palette:e,name:t,job:r,address:n,city:d,phone:c,email:l}=a;inputName.value=t,inputJob.value=r,inputAddress.value=n,inputCity.value=d,inputPhone.value=c,inputEmail.value=l,cardFrontName.innerHTML=inputName.value||defaultCardData.name,cardBackName.innerHTML=inputName.value||defaultCardData.name,cardFrontJob.innerHTML=inputJob.value||defaultCardData.job,cardBackJob.innerHTML=inputJob.value||defaultCardData.job,cardAddress.innerHTML=inputAddress.value||defaultCardData.address,cardCity.innerHTML=inputCity.value||defaultCardData.city,cardPhone.innerHTML=inputPhone.value||defaultCardData.phone,cardEmail.innerHTML=inputEmail.value||defaultCardData.email,choosePalette(e)}};getStoredData(),palettes.forEach((e=>e.addEventListener("click",handleClick))),form.addEventListener("keyup",fillCard),btnReset.addEventListener("click",getDefaultData);